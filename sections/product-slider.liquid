<section class="custom-product-slider-section">
    {%- if section.settings.title != blank -%}
        <h2 class="title product-slider-title scroll-trigger animate--slide-in">
            {{ section.settings.title }}
        </h2>
    {%- endif -%}

    {%- if section.settings.collection != blank -%}
        {% assign collection = collections[section.settings.collection] %}
        {%- if collection.products.size > 0 -%}
            <div class="product-slider">
                {%- for product in collection.products -%}
                    <div class="product-slider-item">
                        <a href="{{ product.url }}">
                            <img src="{{ product.featured_image | img_url: 'large' }}" alt="{{ product.title }}">
                            <h3>{{ product.title }}</h3>
                            <span>{{ product.price | money }}</span>
                        </a>
                    </div>
                {%- endfor -%}
            </div>
            <button type="button" class="slick-prev"><svg class="your-custom-svg-prev" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg></button>
            <button type="button" class="slick-next"><svg class="your-custom-svg-next" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 18l6-6-6-6"/></svg></button>
        {%- else -%}
            <p>No products found in this collection.</p>
        {%- endif -%}
    {%- endif -%}
</section>

{% schema %}
{
  "name": "Product Slider",
  "settings": [
    {
      "type": "inline_richtext",
      "id": "title",
      "default": "t:sections.featured-collection.settings.title.default",
      "label": "t:sections.featured-collection.settings.title.label"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "t:sections.featured-collection.settings.collection.label"
    }
  ],
  "presets": [
    {
      "name": "Product Slider"
    }
  ]
}
{% endschema %}

<!-- jQuery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Slick Slider CSS -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick-theme.css"/>

<!-- Slick Slider JS -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.min.js"></script>

<script type="text/javascript">
  $(document).ready(function(){
    $('.product-slider').slick({
      dots: true,
      infinite: true,
      speed: 300,
      slidesToShow: 4,
      slidesToScroll: 4,
      nextArrow: '<button type="button" class="slick-next"><svg class="your-custom-svg-next" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 18l6-6-6-6"/></svg></button>',
      prevArrow: '<button type="button" class="slick-prev"><svg class="your-custom-svg-prev" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg></button>',
      responsive: [
        {
          breakpoint: 1024,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 3,
            infinite: true,
            dots: true
          }
        },
        {
          breakpoint: 600,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 2
          }
        },
        {
          breakpoint: 480,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 2
          }
        }
      ]
    });
  });
</script>
<style>
    .custom-product-slider-section {
        width: 100%;
        padding: 0;
    }
    
    .product-slider-wrapper {
        position: relative;
        width: 100%;
        overflow: hidden;
    }
    
    .product-slider {
        width: 100%;
        display: flex;
        align-items: stretch;
    }
    
    .product-slider-item {
        padding: 0 4px; /* Half of the gap to both sides */
        box-sizing: border-box;
    }
    
    .slick-list {
        margin: 0 -4px; /* Negative margin to compensate the padding */
    }
    
    .slick-prev, .slick-next {
        background: none;
        border: none;
        cursor: pointer;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        z-index: 1;
    }
    
    .slick-prev {
        left: 10px;
    }
    
    .slick-next {
        right: 10px;
    }
    
    .your-custom-svg-prev, .your-custom-svg-next {
        width: 20px;
        height: 20px;
        fill: #000; /* Adjust the color as needed */
    }
    
</style>