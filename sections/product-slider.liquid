<!-- Slick Slider CSS -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick-theme.css"/>

<!-- Slick Slider JS -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.min.js"></script>

<section class="custom-product-slider-section">
    {%- if section.settings.title != blank -%}
        <h2 class="title product-slider-title scroll-trigger animate--slide-in">
            {{ section.settings.title }}
        </h2>
    {%- endif -%}

    {%- if section.settings.collection != blank -%}
        {% assign collection = collections[section.settings.collection] %}
        {%- if collection.products.size > 0 -%}
            <div class="product-slider">
                {%- for product in collection.products -%}
                    <div class="product-slider-item">
                        <a href="{{ product.url }}">
                            <img src="{{ product.featured_image | img_url: 'medium' }}" alt="{{ product.title }}">
                            <h3>{{ product.title }}</h3>
                            <span>{{ product.price | money }}</span>
                        </a>
                    </div>
                {%- endfor -%}
            </div>
        {%- else -%}
            <p>No products found in this collection.</p>
        {%- endif -%}
    {%- endif -%}
</section>

{% schema %}
{
  "name": "Product Slider",
  "settings": [
    {
      "type": "inline_richtext",
      "id": "title",
      "default": "t:sections.featured-collection.settings.title.default",
      "label": "t:sections.featured-collection.settings.title.label"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "t:sections.featured-collection.settings.collection.label"
    }
  ],
  "presets": [
    {
      "name": "Product Slider"
    }
  ]
}
{% endschema %}

<!-- Slick Slider CSS -->
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.css"/>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick-theme.css"/>

<!-- Slick Slider JS -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.min.js"></script>

<script type="text/javascript">
    $(document).ready(function(){
      $('.product-slider').slick({
        dots: true,
        infinite: true,
        speed: 300,
        slidesToShow: 4,
        slidesToScroll: 4,
        responsive: [
          {
            breakpoint: 1024,
            settings: {
              slidesToShow: 3,
              slidesToScroll: 3,
              infinite: true,
              dots: true
            }
          },
          {
            breakpoint: 600,
            settings: {
              slidesToShow: 2,
              slidesToScroll: 2
            }
          },
          {
            breakpoint: 480,
            settings: {
              slidesToShow: 1,
              slidesToScroll: 1
            }
          }
        ]
      });
    });
  </script>